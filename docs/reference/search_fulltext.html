<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Full text search — search_fulltext • ALA4R</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Full text search — search_fulltext" />
<meta property="og:description" content="Performs a search across all objects, and selects the closest matches.
Generally, the user will provide the search term via the query
parameter, with optional filtering via fq." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ALA4R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ALA4R.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/AtlasOfLivingAustralia/ALA4R/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Full text search</h1>
    <small class="dont-index">Source: <a href='https://github.com/AtlasOfLivingAustralia/ALA4R/blob/master/R/search_fulltext.R'><code>R/search_fulltext.R</code></a></small>
    <div class="hidden name"><code>search_fulltext.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs a search across all objects, and selects the closest matches.
Generally, the user will provide the search term via the <code>query</code>
parameter, with optional filtering via <code>fq</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>search_fulltext</span>(
  <span class='no'>query</span>,
  <span class='kw'>fq</span> <span class='kw'>=</span> <span class='st'>"idxtype:TAXON"</span>,
  <span class='kw'>output_format</span> <span class='kw'>=</span> <span class='st'>"simple"</span>,
  <span class='no'>start</span>,
  <span class='no'>page_size</span>,
  <span class='no'>sort_by</span>,
  <span class='no'>sort_dir</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>query</th>
      <td><p>string: the search term</p></td>
    </tr>
    <tr>
      <th>fq</th>
      <td><p>string: (optional) character string or vector of strings,
specifying filters to be applied to the original query/
These are of the form "INDEXEDFIELD:VALUE" e.g. "rk_kingdom:Fungi".
See <code><a href='ala_fields.html'>ala_fields("general")</a></code> for all the fields that are queryable.
NOTE that fq matches are case-sensitive, but sometimes the entries in the
fields are not consistent in terms of case (e.g. kingdom names "Fungi" and
"Plantae" but "ANIMALIA"). fq matches are ANDed by default
(e.g. c("field1:abc","field2:def") will match records that have field1 value
"abc" and field2 value "def"). To obtain OR behaviour, use the form
c("field1:abc OR field2:def")</p></td>
    </tr>
    <tr>
      <th>output_format</th>
      <td><p>string: controls the print method for the "data"
component of the returned object. Either "complete" (the complete data
structure is displayed), or "simple" (a simplified version is displayed).
Note that the complete data structure exists in both cases: this option
only controls what is displayed when the object is printed to the console.
The default output format is "simple"</p></td>
    </tr>
    <tr>
      <th>start</th>
      <td><p>numeric: (optional) (positive integer) start offset for the
results</p></td>
    </tr>
    <tr>
      <th>page_size</th>
      <td><p>numeric: (optional) (positive integer) maximum number of
records to return. Defaults to the server-side value - currently 10</p></td>
    </tr>
    <tr>
      <th>sort_by</th>
      <td><p>string: (optional) field to sort on. See
<code><a href='ala_fields.html'>ala_fields("general")</a></code> for valid field names</p></td>
    </tr>
    <tr>
      <th>sort_dir</th>
      <td><p>string: (optional) sort direction, either "asc" or "desc"</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a named list with the components "meta" (search metadata), "facets"
(search facet results), and "data" (the search results, in the form of a
data frame). The contents (column names) of the data frame will vary
depending on the details of the search and the results, but should contain
at least the columns <code>guid</code>, <code>name</code>, <code>commonName</code>,
<code>rank</code>, <code>author</code>, and <code>occurrenceCount</code>.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Associated ALA web service: <a href='https://api.ala.org.au/#ws1'>https://api.ala.org.au/#ws1</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='ala_fields.html'>ala_fields</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
 <span class='co'># find information ALA holds on red kangaroo</span>
 <span class='fu'>search_fulltext</span>(<span class='st'>"red kangaroo"</span>)
 <span class='fu'>search_fulltext</span>(<span class='st'>"Heleioporus australiacus"</span>)
 <span class='fu'>search_fulltext</span>(<span class='st'>"urn:lsid:biodiversity.org.au:afd.taxon:
 31a9b8b8-4e8f-4343-a15f-2ed24e0bf1ae"</span>)

 <span class='co'># find genus names like "Oenanthe"</span>
 <span class='fu'>search_fulltext</span>(<span class='st'>"oenanthe"</span>, <span class='kw'>sort_by</span> <span class='kw'>=</span> <span class='st'>"rk_kingdom"</span>, <span class='kw'>fq</span> <span class='kw'>=</span> <span class='st'>"rank:genus"</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Peggy Newman, Ben Raymond, Jeremy VanDerWal, Lee Belbin, Matilda Stevenson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


